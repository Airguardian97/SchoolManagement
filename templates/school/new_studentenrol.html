<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Enrollment Form</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #e0f7fa, #e1bee7);
    }
    .error-message {
      color: red;
      font-size: 0.875em;
    }
  </style>
</head>
<body class="d-flex align-items-center justify-content-center min-vh-100 p-4">

<div class="container" style="max-width: 800px; background: #ffffff; padding: 2rem; border-radius: 1rem; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
  <h2 class="mb-4 text-center">Enrollment Form</h2>

  <!-- Tabs -->
  <ul class="nav nav-tabs" id="enrollmentTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="basic-tab" data-bs-toggle="tab" data-bs-target="#basic" type="button" role="tab">Basic Info</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="address-tab" data-bs-toggle="tab" data-bs-target="#address" type="button" role="tab">Address Info</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="other-tab" data-bs-toggle="tab" data-bs-target="#other" type="button" role="tab">Other Details</button>
    </li>
  </ul>
  <!-- Tabs Content -->
  <form method="POST" novalidate class="tab-content mt-3" id="enrollmentTabsContent" onsubmit="return validateForm();">
    {% csrf_token %}
    <!-- Basic Info Tab -->
    <div class="tab-pane fade show active" id="basic" role="tabpanel">
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="gradelevel" class="form-label">Grade Level:</label>
          <select class="form-select" id="gradelevel" name="gradelevel">
            <option selected disabled>Select Grade Level</option>
            <option>Grade 1</option>
            <option>Grade 2</option>
            <option>Grade 3</option>
            <!-- Add more options as needed -->
          </select>
          <div class="error-message" id="gradelevelError"></div>
        </div>
        <div class="col-md-6">
          <label for="lrnNo" class="form-label">LRN No.</label>
          <input type="text" class="form-control" id="lrnNo" name="lrnNo">
          <div class="error-message" id="lrnNoError"></div>
        </div>
      </div>
      
      <div class="row mb-3">
        <div class="col-md-4">
          <label for="firstName" class="form-label">First Name</label>
          <input type="text" class="form-control" id="firstName" name="firstName">
          <div class="error-message" id="firstNameError"></div>
        </div>
        <div class="col-md-4">
          <label for="lastName" class="form-label">Last Name</label>
          <input type="text" class="form-control" id="lastName" name="lastName">
          <div class="error-message" id="lastNameError"></div>
        </div>
        <div class="col-md-4">
          <label for="middleName" class="form-label">Middle Name</label>
          <input type="text" class="form-control" id="middleName" name="middleName">
          <div class="error-message" id="middleNameError"></div>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-6">
          <label for="nickName" class="form-label">Nick Name</label>
          <input type="text" class="form-control" id="nickName" name="nickName">
          <div class="error-message" id="nickNameError"></div>
        </div>
        <div class="col-md-6">
          <label for="gender" class="form-label">Gender</label>
          <select class="form-select" id="gender" name="gender">
            <option selected disabled>Select</option>
            <option>Male</option>
            <option>Female</option>
          </select>
          <div class="error-message" id="genderError"></div>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-4">
          <label for="dob" class="form-label">Date of Birth</label>
          <input type="date" class="form-control" id="dob" name="dob">
          <div class="error-message" id="dobError"></div>
        </div>
        <div class="col-md-4">
          <label for="age" class="form-label">Age</label>
          <input type="number" class="form-control" id="age" name="age">
          <div class="error-message" id="ageError"></div>
        </div>
        <div class="col-md-4">
          <label for="birthOrder" class="form-label">Birth Order</label>
          <input type="text" class="form-control" id="birthOrder" name="birthOrder">
          <div class="error-message" id="birthOrderError"></div>
        </div>
      </div>

      <div class="d-flex justify-content-end">
        <button type="button" class="btn btn-primary" onclick="nextTab('address')">Next</button>
      </div>
    </div>

    <!-- Address Info Tab -->
    <div class="tab-pane fade" id="address" role="tabpanel">
      <div class="mb-3">
        <label for="homeAddress" class="form-label">Home Address</label>
        <textarea class="form-control" id="homeAddress" name="homeAddress" rows="3"></textarea>
        <div class="error-message" id="homeAddressError"></div>
      </div>

      <div class="d-flex justify-content-between">
        <button type="button" class="btn btn-secondary" onclick="prevTab('basic')">Previous</button>
        <button type="button" class="btn btn-primary" onclick="nextTab('other')">Next</button>
      </div>
    </div>

    <!-- Other Details Tab -->
    <div class="tab-pane fade" id="other" role="tabpanel">
      <div class="mb-3">
        <label for="religion" class="form-label">Religion</label>
        <input type="text" class="form-control" id="religion" name="religion">
        <div class="error-message" id="religionError"></div>
      </div>
      <div class="mb-3">
        <label for="favorites" class="form-label">Favorite TV Programs / Movies / Books</label>
        <textarea class="form-control" id="favorites" name="favorites" rows="3"></textarea>
        <div class="error-message" id="favoritesError"></div>
      </div>
      <div class="mb-3">
        <label for="firstLanguage" class="form-label">First Language</label>
        <input type="text" class="form-control" id="firstLanguage" name="firstLanguage">
        <div class="error-message" id="firstLanguageError"></div>
      </div>

      <div class="d-flex justify-content-between">
        <button type="button" class="btn btn-secondary" onclick="prevTab('address')">Previous</button>
        <button type="submit" class="btn btn-success">Submit</button>
      </div>
    </div>

  </form>

</div>

<!-- Bootstrap 5 JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Tab Navigation and Validation Script -->
<script>
function nextTab(tabId) {
  var tab = new bootstrap.Tab(document.querySelector('#' + tabId + '-tab'));
  tab.show();
}

function prevTab(tabId) {
  var tab = new bootstrap.Tab(document.querySelector('#' + tabId + '-tab'));
  tab.show();
}

function validateForm() {
  let isValid = true;

  // Clear previous error messages
  document.querySelectorAll('.error-message').forEach(e => e.innerText = '');

  // Example validations
  const requiredFields = [
    { id: 'gradelevel', message: 'Please select a grade level.' },
    { id: 'lrnNo', message: 'LRN Number is required.' },
    { id: 'firstName', message: 'First name is required.' },
    { id: 'lastName', message: 'Last name is required.' },
    { id: 'middleName', message: 'Middle name is required.' },
    { id: 'nickName', message: 'Nick name is required.' },
    { id: 'gender', message: 'Please select gender.' },
    { id: 'dob', message: 'Date of birth is required.' },
    { id: 'age', message: 'Age is required.' },
    { id: 'birthOrder', message: 'Birth order is required.' },
    { id: 'homeAddress', message: 'Home address is required.' },
    { id: 'religion', message: 'Religion is required.' },
    { id: 'favorites', message: 'Favorite programs/movies/books are required.' },
    { id: 'firstLanguage', message: 'First language is required.' },
  ];

  requiredFields.forEach(field => {
    const element = document.getElementById(field.id);
    if (!element.value || element.value === 'Select' || element.value === 'Select Grade Level') {
      document.getElementById(field.id + 'Error').innerText = field.message;
      isValid = false;
    }
  });

  return isValid; // If true, form will submit, otherwise block
}
</script>

</body>
</html>
